<!doctype html>
<html lang="en">
<head>
    <head th:replace="mysnippets.html :: name_head"></head>
<body>
<header th:replace="mysnippets.html :: name_header"></header>
<div th:replace="mysnippets.html :: common_modals"></div>

<div class="row" id="body-row">
    <div th:replace="mysnippets.html :: side_bar"></div>
    <div class="col">
        <!-- Upload Page Header -->
        <div class="upload-header">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h1 class="upload-title">
                                    <i class="fa fa-upload"></i>
                                    Data Upload
                                </h1>
                                <p class="upload-subtitle">
                                    Upload and manage master data files for the system
                                </p>
                            </div>
                            <div>
                                <button type="button" class="btn btn-danger btn-lg" onclick="clearAllData()">
                                    <i class="fa fa-trash"></i> Clear All Data
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upload Order Guidance -->
        <div class="upload-guidance-container mb-4">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="alert alert-info d-flex align-items-center">
                            <i class="fa fa-info-circle me-3"></i>
                            <div>
                                <strong>Upload Order:</strong> 
                                <span class="upload-flow">
                                    <span class="upload-step">1. Styles</span>
                                    <i class="fa fa-arrow-right mx-2"></i>
                                    <span class="upload-step">2. Stores</span>
                                    <i class="fa fa-arrow-right mx-2"></i>
                                    <span class="upload-step">3. SKUs</span>
                                    <i class="fa fa-arrow-right mx-2"></i>
                                    <span class="upload-step">4. Sales</span>
                                </span>
                                <br>
                                <small class="text-muted">SKUs depend on Styles. Sales depend on SKUs and Stores. Upload dependencies will be automatically validated.</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upload Cards Container -->
        <div class="upload-cards-container">
            <div class="container-fluid">
                <div class="row" id="upload-cards-row">
                    <!-- Cards will be dynamically generated here -->
                </div>
            </div>
        </div>

        <!-- Legacy table (hidden by default) -->
        <div class="col-12" style="display: none;">
            <table class="table table-striped text-center" id="upload-table">
            </table>
        </div>

    </div>
</div>

<footer th:replace="mysnippets.html :: name_footer"></footer>
    <script th:src="@{/static/js/uploadJson.js}"></script>
    <script th:src="@{/static/js/upload.js}"></script>
</body></html>